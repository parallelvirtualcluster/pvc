#!/usr/bin/env bash

if ! which flake8 &>/dev/null; then
    echo "Flake8 is required to lint this project"
    exit 1
fi

flake8 \
    --ignore=E201,E202,E222,E501,E241,F522,F523,F541 \
    --exclude=debian,api-daemon/migrations/versions,api-daemon/provisioner/examples
ret=$?
if [[ $ret -eq 0 ]]; then
    echo "No linting issues found!"
fi
exit $ret
